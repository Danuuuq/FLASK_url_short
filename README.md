# Проект "YaCut" для сокращения ссылок на Flask

Проект YaCut — это сервис укорачивания ссылок. Его назначение — ассоциировать длинную пользовательскую ссылку с короткой, которую предлагает сам пользователь или предоставляет сервис.  
*Проект реализован самостоятельно на курсе от Я.Практикум "Python-разработчик расширенный".*

## Эндпоинты  

### Веб-интерфейс проекта:  

**http://<your_url>/** - основная страница для создания короткой ссылки, можно указать свой вариант длиной до 16 символов используя латинские символы и цифры.  
**http://<your_url>/<short_id>** - при переходе по короткой ссылке происходит редирект на связанную страницу.  

### RESTFull API:  

**http://<your_url>/api/id** - создание короткой ссылки, разрешенный метод POST, примеры запросов:  

```json
{
    "url": "string",
    "custom_id": "string (not required)",
}
```  
*url* - оригинальная ссылка;  
*custom_id* - ваш вариант короткого id.  

Пример ответа:
```json
{
    "url": "оригинальная ссылка(string)",
    "short_link": "короткая ссылка (string)",
}
```  
*short_link* - готовая короткая ссылка для редиректа на оригинальную


**http://<your_url>/api/id/<short_id>** - получить оригинальную ссылку привязанную к короткой, разрешенный метод GET, тело запроса не требуется. Пример ответа:
```json
{
    "url": "оригинальная ссылка(string)"
}
```  

## Установка и быстрый запуск:  

1. Клонируйте репозиторий:  

    ```bash
    git clone https://github.com/yourusername/yacut.git
    ```  

2. Установите зависимости:  

    ```bash
    pip install -r requirements.txt
    ```  

3. Установите зависимости из файла requirements.txt:  

    ```bash
    pip install -r requirements.txt
    ```  

4. Выполнить миграцию для создания БД(если нет) и таблиц:  

    ```bash
    flask db migrate
    ```  

6. Задайте в директории */yacut* в файле *.env* следующие переменные:  

- FLASK_APP='yacut' - название проекта  
- DATABASE_URI='Database' - подключение к БД  
- SECRET_KEY='yourCode' - ваш секретный код  

7. Запустите проект из директории */yacut*:  

    ```bash
    flask run
    ```  

## Дополнительные параметры  

В `settings.py` переменная *LENGTH_SHORT_ID* отвечает за длину автоматически сгенерированной ссылки, при увеличении количества объектов в БД и возникновении коллизий значение увеличивается.

## Запуск тестов  

    ```bash
    pytest
    ```  

## Автор  

Автор проекта: [Даниил](https://github.com/Danuuuq)  
Связаться через [Telegram](https://t.me/saint_danik)  | [Email](mailto:daniil@tyunkov.ru)
